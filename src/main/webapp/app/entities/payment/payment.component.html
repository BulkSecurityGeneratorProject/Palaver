<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title">Pagos</h4>
            </div>
            <div class="card-body">
                <div class="card-block">
                    <div class="table-responsive" *ngIf="payments">
                        <table class="table table-responsive-md text-center">
                            <thead>
                            <tr>
                                <th><span>Fecha</span></th>
                                <th><span>Descripción</span></th>
                                <th><span>Monto</span></th>
                                <th><span>Cuenta destino</span></th>
                                <th><span>Cuenta origen</span></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let pay of payments ;trackBy: trackId">
                                <td>{{pay.date | date:'medium'}}</td>
                                <td>
                                    <div *ngIf="pay.description.length >= 30">
                                        <a class="text-bold-500 primary" (click)="showDetail(motive,pay)">Ver más</a>
                                    </div>
                                    <div *ngIf="pay.description.length < 30">
                                        {{pay.description}}
                                    </div>
                                </td>
                                <td>{{pay.ammount | currency: 'CRC'}}</td>
                                <td>{{pay.destinyAccount.user.name}}</td>
                                <td>{{pay.originAccount.user.name}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #motive let-c="close" let-d="dismiss">
    <div class="modal-header" style="background-color: #428bca; color: #fff;">
        <h4 class="modal-title">Descripción</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form class="form ng-untouched ng-pristine ng-valid" name="editForm" role="form" novalidate>
            <div class="form-body">
                <div class="form-group">
                    <label class="form-control-label">{{pay.description}}</label>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-raised" (click)="c('Close click')">Cerrar</button>
    </div>
</ng-template>


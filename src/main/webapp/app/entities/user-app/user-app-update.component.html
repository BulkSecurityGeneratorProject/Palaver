<div class="row match-height">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <div class="px-3">
                    <form class="form" name="form" role="form" (ngSubmit)="save()" #updateForm="ngForm">
                        <div class="row justify-content-md-center">
                            <div class="col-md-6">
                                <div class="form-body">
                                    <h4 class="form-section"><i class="ft-user"></i> Editar información</h4>
                                    <jhi-alert-error></jhi-alert-error>
                                    <div class="form-group" hidden>
                                        <label for="id">Id</label>
                                        <input type="text" class="form-control" id="id" name="id"
                                               [(ngModel)]="userApp.id" readonly/>
                                    </div>
                                    <div class="form-group">
                                        <label for="login"><i class="ft-edit-3"></i> Nombre de usuario</label>
                                        <input type="text" class="form-control" [(ngModel)]="user.login"
                                               id="login" name="login" #login="ngModel" placeholder="Nombre de usuario"
                                               required minlength="1" maxlength="50">
                                        <div *ngIf="login.dirty && login.invalid">
                                            <small class="form-text text-danger" *ngIf="login.errors.required">
                                                Este campo es requerido.
                                            </small>
                                            <small class="form-text text-danger" *ngIf="login.errors.minlength"
                                            >
                                                Su nombre de usuario debe tener al menos 1 caracter de largo.
                                            </small>
                                            <small class="form-text text-danger" *ngIf="login.errors.maxlength"
                                            >
                                                Su nombre de usuario no debe tener mas de 50 caracteres de largo.
                                            </small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="name"><i class="ft-user"></i> Nombre</label>
                                        <input type="text" class="form-control" [(ngModel)]="userApp.name" id="name"
                                               name="name" placeholder="Nombre" #name="ngModel"
                                               required>
                                        <div *ngIf="name.dirty && name.invalid">
                                            <small class="form-text text-danger" *ngIf="name.errors.required">
                                                Este campo es requerido.
                                            </small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="identification"><i class="ft-hash"></i> Número de
                                            identificación</label>
                                        <input type="text" class="form-control"
                                               [(ngModel)]="userApp.identificationNumber" id="identification"
                                               name="identification" #identification="ngModel"
                                               placeholder="Número de identificación"
                                               required minlength="1" maxlength="200">
                                        <div *ngIf="identification.dirty && identification.invalid">
                                            <small class="form-text text-danger" *ngIf="identification.errors.required">
                                                Este campo es requerido.
                                            </small>
                                            <small class="form-text text-danger" *ngIf="identification.errors.minlength"
                                            >
                                                Su número de identificación debe tener al menos 1 caracter de largo.
                                            </small>
                                            <small class="form-text text-danger" *ngIf="identification.errors.maxlength"
                                            >
                                                Su número de identificación no debe tener mas de 50 caracteres de largo.
                                            </small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="email"><i class="ft-at-sign"></i> Correo electronico</label>
                                        <input type="email" class="form-control" id="email" name="email"
                                               #email="ngModel" placeholder="ejemplo@correo.com"
                                               [(ngModel)]="userApp.mail" [(ngModel)]="user.email"
                                               minlength=5 maxlength=254 email required>
                                        <div *ngIf="email.dirty && email.invalid">
                                            <small class="form-text text-danger" *ngIf="email.errors.required"
                                            >
                                                Este campo es requerido.
                                            </small>
                                            <small class="form-text text-danger" *ngIf="email.errors.minlength"
                                            >
                                                Su contraseña debe tener al menos 4 caracteres de largo.
                                            </small>
                                            <small class="form-text text-danger" *ngIf="email.errors.maxlength"
                                            >
                                                Su contraseña no debe tener mas de 50 caracteres de largo.
                                            </small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="address"><i class="ft-globe"></i> Dirección</label>
                                        <input type="text" class="form-control" [(ngModel)]="userApp.address"
                                               id="address" name="address" #address="ngModel" placeholder="Dirección">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-auto">
                                        <button type="button" id="cancel-save" class="btn btn-raised btn-warning mr-1"
                                                (click)="previousState()">
                                            <i class="ft-chevron-left"></i> Atrás
                                        </button>
                                    </div>
                                    <div [ngbPopover]="popoverText"
                                         triggers="mouseenter:mouseleave" popoverTitle="Formulario inválido."
                                         *ngIf="updateForm.form.invalid || isSaving; else validRegisterBtn"
                                         class="col-auto">
                                        <button type="submit"
                                                [disabled]="true"
                                                class="btn btn-raised btn-primary">
                                            <i class="ft ft-check"></i> Guardar
                                        </button>
                                    </div>
                                    <ng-template #popoverText>
                                        <small class="display-block">Por favor, asegúrese de que todos los campos estén completos.
                                        </small>
                                    </ng-template>
                                    <ng-template #validRegisterBtn>
                                        <div class="col-auto">
                                            <button type="submit" id="save-entity"
                                                    class="btn btn-raised btn-primary">
                                                <i class="ft ft-check"></i> Guardar
                                            </button>
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
